<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhamma AI Clear Pro</title>
    <style>
        /* ‡∂∏‡∑î‡∑Ö‡∑î Screen ‡∂ë‡∂ö‡∂∏ ‡∂¥‡∑í‡∂ª‡∑ô‡∂±‡∑ä‡∂± ‡∑É‡∑Ñ scroll ‡∂±‡∑ú‡∑Ä‡∑ô‡∂±‡∑ä‡∂± ‡∑Ñ‡∑ê‡∂Ø‡∑î‡∑Ä‡∑è */
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            overflow: hidden; background: #000; 
        }
        
        /* ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫ ‡∂∂‡∑ú‡∂≥ ‡∂±‡∑ú‡∑Ä‡∑ì Clear ‡∂¥‡∑ö‡∂±‡∑ä‡∂± ‡∂∏‡∑ö Settings ‡∂ß‡∑í‡∂ö ‡∑Ä‡∑ê‡∂Ø‡∂ú‡∂≠‡∑ä */
        #bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000 url('https://i.ibb.co/6J1ghkGr/IMG-5368.jpg') no-repeat center center;
            background-size: 100% 100%; /* ‡∂î‡∂∫‡∑è ‡∂ö‡∑í‡∂∫‡∂¥‡∑î ‡∑Ä‡∑í‡∂Ø‡∑í‡∑Ñ‡∂ß‡∂∏ ‡∂á‡∂©‡∑ä ‡∂ö‡∑Ö‡∑è */
            image-rendering: -webkit-optimize-contrast; /* ‡∂¥‡∑í‡∂±‡∑ä‡∂≠‡∑ñ‡∂ª‡∂∫‡∑ö ‡∂≠‡∑í‡∂∫‡∑î‡∂´‡∑î ‡∂∂‡∑Ä ‡∑Ä‡∑ê‡∂©‡∑í ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß */
            z-index: -1;
        }

        /* ‡∑Ä‡∑ê‡∑É‡∑í ‡∂¥‡∑ú‡∂Ø (Rain) */
        .rain {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.25; animation: rain 0.7s linear infinite; z-index: 1; pointer-events: none;
        }
        @keyframes rain { from { background-position: 0 0; } to { background-position: 10% 100%; } }

        /* ‡∂∏‡∑ê‡∂Ø ‡∂Ö‡∂ö‡∑î‡∂ª‡∑î ‡∂¥‡∑ô‡∂ß‡∑ä‡∂ß‡∑í‡∂∫ */
        .glass-box {
            position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);
            width: 85%; max-width: 420px; padding: 25px;
            background: rgba(0, 0, 0, 0.75); backdrop-filter: blur(12px);
            border: 1px solid #ffd700; border-radius: 25px;
            color: #fff; text-align: center; z-index: 10;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* ‡∂ª‡∂±‡∑ä‡∑Ä‡∂±‡∑ä ‡∂¥‡∑è‡∂ß ‡∂∏‡∂∫‡∑í‡∂ö‡∑ä ‡∂∂‡∂ß‡∂±‡∑ä ‡∂ë‡∂ö */
        .mic-btn {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            width: 70px; height: 70px; border-radius: 50%; border: none;
            background: linear-gradient(145deg, #ffd700, #ffae00);
            font-size: 30px; cursor: pointer; z-index: 11;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
            transition: 0.3s;
        }
        .mic-btn:active { transform: translateX(-50%) scale(0.9); }
    </style>
</head>
<body>

    <div id="bg"></div>
    <div class="rain"></div>

    <div class="glass-box">
        <div id="out" style="font-size: 18px; line-height: 1.5;">‡∑É‡∂∏‡∑ä‡∂∏‡∑è ‡∑É‡∂∏‡∑ä‡∂∂‡∑î‡∂Ø‡∑î ‡∑É‡∂ª‡∂´‡∂∫‡∑í! <br> ‡∂∏‡∂∫‡∑í‡∂ö‡∑ä ‡∂ë‡∂ö ‡∂î‡∂∂‡∑è ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫‡∂ö‡∑ä ‡∂Ö‡∑É‡∂±‡∑ä‡∂±.</div>
    </div>

    <button class="mic-btn" id="btn">üé§</button>

    <script>
        const API_KEY = "AIzaSyAB4EVp2-dvCi8DrsSz-X3xHdjUxraCKUo";

        async function askAI(q) {
            try {
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ contents: [{ parts: [{ text: "‡∂¥‡∑í‡∂±‡∑ä‡∑Ä‡∂≠ ‡∂ö‡∑í‡∂∫‡∑è ‡∂Ö‡∂∏‡∂≠‡∑è ‡∂â‡∂≠‡∑è ‡∂ö‡∑ô‡∂ß‡∑í ‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∂ö‡∑ä ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±: " + q }] }] })
                });
                const data = await res.json();
                return data.candidates[0].content.parts[0].text;
            } catch (e) { return "‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±."; }
        }

        document.getElementById('btn').onclick = () => {
            const r = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            r.lang = 'si-LK';
            r.onstart = () => { document.getElementById('out').innerText = "‡∂î‡∂∂‡∂ß ‡∑É‡∑Ä‡∂±‡∑ä ‡∂Ø‡∑ô‡∂∏‡∑í..."; };
            r.onresult = async (e) => {
                const txt = e.results[0][0].transcript;
                document.getElementById('out').innerText = "‡∑É‡∑í‡∂≠‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑í‡∂∫‡∑í...";
                const reply = await askAI(txt);
                document.getElementById('out').innerText = reply;
                const msg = new SpeechSynthesisUtterance(reply);
                msg.lang = 'si-LK';
                window.speechSynthesis.speak(msg);
            };
            r.start();
        };
    </script>
</body>
</html>
